<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/home.dwt.php" codeOutsideHTMLIsLocked="false" -->
<head>
<title>Welcome to Reservation</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<link href="plugin/bootstraps/css/bootstrap.css" rel="stylesheet" type="text/css" />
	<link href="css/default.css" rel="stylesheet" type="text/css" />
	<!-- <link href="plugin/jquery/ui/pepper_grinder/jquery-ui.css" rel="stylesheet" type="text/css" /> -->
	<link href="plugin/bootstraps/css/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css" />
	<link rel='stylesheet' href='plugin/jquery/unitegallery/css/unite-gallery.css' type='text/css' />
	<link rel='stylesheet' href='plugin/jquery/unitegallery/skins/alexis/alexis.css' type='text/css' /> 
	<style>
	div.ui-datepicker{
		font-size:10px;
	}
</style>
</head>
<body>
<div class='container'>
	<div class='row rowspan' >
		<div class='col-md-4 text-center'>
			<span class="stepflow_active">1</span> Select Room
		</div>
		<div class='col-md-4 text-center'>
			<span class="stepflow" >2</span> Extra Service
		</div>
		<div class='col-md-4 text-center'>
			<span class="stepflow">3</span> Reserve
		</div>
	</div>
	<div class='row rowspan' >
			<div class='panel panel-default' style='background-color:#999966;'>
				<div class="panel-body">
					<div class='row'>
						<div class='col-sm-3'>
							 <div class="form-group">
							<label for="checkpoint_date"><span class='glyphicon glyphicon-calendar'></span> Check In</label>
							<div class="input-group date" id='btn_checkin' >
							  <input type="text" class="form-control" id='checkpoint_date' name='checkpoint_date' placeholder="" />
							   <span class="input-group-addon">
			                        <span class="glyphicon glyphicon-calendar"></span>
			                    </span>
							</div>

						  </div>
						</div>
						<div class='col-sm-3'>
							<div class="form-group">
							<label for="travel_date"><span class='glyphicon glyphicon-calendar'></span> Check Out</label>
							<!-- <input type="text" class="form-control" id="travel_date" name="travel_date" placeholder="" > -->
							<div class="input-group date" id='btn_checkout' >
							  <input type="text" class="form-control" id='travel_date' name='travel_date' placeholder="" />
							   <span class="input-group-addon">
			                        <span class="glyphicon glyphicon-calendar"></span>
			                    </span>
							</div>
						  </div>
						</div>
						<div class='col-sm-3'>
							<div class="form-group">
							<label for="night_unit"><span class='glyphicon glyphicon-time'></span>&nbsp;Night</label>
							<input type='text' id="night_unit" name='night_unit' class='form-control' placeholder="" value='' readonly>
						  </div>
						 </div>
						<div class='col-sm-3 text-right'>
							<!--<button type='button' id='btn_used' class='btn btn-warning brown' >นำเงื่อนไขไปใช้</button>-->
						</div>
					</div>
					<div class='row'>
						<div class='col-sm-3'>
							<div class="form-group">
							<label for="adults_unit"><span class='glyphicon glyphicon-user'></span>&nbsp;Adults</label>
							<div class="input-group" style='z-index: 0;'>
								  <div class="input-group-btn">
									<button type='button' onclick='adult_decrease()' class='btn btn-warning brown' >&nbsp;<span class='glyphicon glyphicon-minus'></span></button>
								  </div>
								  <input type="text" class="form-control" id='adult_amount' name='adult_amount' aria-label="..." value="">
								  <div class="input-group-btn">
									<button type='button' onclick='adult_increase()' class='btn btn-warning brown btn-md' >&nbsp;<span class='glyphicon glyphicon-plus'></span></button>
								  </div>
								</div>
							  </div>
						</div>
						<div class='col-sm-3'>
							<div class="form-group">
							<label for="adults_unit"><span class='glyphicon glyphicon-user'></span>&nbsp;Children 5 - 11 Year</label>
							<div class="input-group" style='z-index: 0;'>
								  <div class="input-group-btn">
									<button type='button' onclick="child_decrease('child_2_amount')" class='btn btn-warning brown' >&nbsp;<span class='glyphicon glyphicon-minus'></span></button>
								  </div>
								  <input type="text" class="form-control" id='child_2_amount' name='child_2_amount' aria-label="..." value="0">
								  <div class="input-group-btn">
									<button type='button' onclick="child_increase('child_2_amount')"  class='btn btn-warning brown btn-md' >&nbsp;<span class='glyphicon glyphicon-plus'></span></button>
								  </div>
								</div>
							  </div>
						  </div>
						  <div class='col-sm-3'>
							<div class="form-group">
							<label for="adults_unit"><span class='glyphicon glyphicon-user'></span>&nbsp;Children 0 - 4 Year</label>
							<div class="input-group" style='z-index: 0;'>
								  <div class="input-group-btn">
									<button type='button' onclick="child_decrease('child_amount')"  class='btn btn-warning brown' >&nbsp;<span class='glyphicon glyphicon-minus'></span></button>
								  </div>
								  <input type="text" class="form-control" id='child_amount' name='child_amount' aria-label="..." value="0">
								  <div class="input-group-btn">
									<button type='button' onclick="child_increase('child_amount')" class='btn btn-warning brown btn-md' >&nbsp;<span class='glyphicon glyphicon-plus'></span></button>
								  </div>
								</div>
							  </div>
						  </div>
					</div>
					<div class='row'>
						<div class='col-sm-3'>
							 <div class="form-group">
							<label for="promo_code"><span class='glyphicon glyphicon-tasks'></span> Access Code</label>
							  <input type="text" class="form-control" id='promo_code' name='promo_code' placeholder="Package Code" />
						  </div>
						</div>
						<div class='col-sm-9 text-right'><br>
							<input type='button' class='btn btn-warning' id='btn_apply' Value='Apply'/>
						</div>
					</div>
			  </div>
			</div>
		</div>
	<div class='row rowspan' >
		<div class='col-md-7'>
			<div class='row'>
				<h3 style='color:#996600;font-weight:bold;'><span id='title'>เลือกห้องพักของท่าน</span></h3>
				<span style='color:#ff9900;font-weight:bold;' ><span id='title_desc'>เลือกห้องพักจากราคาที่ดีที่สุดจากเรา</span></span>
			</div>
			<div id="list_room"></div>
			<div class='row'>
				<div class="panel panel-default">
				  <div class="panel-heading" style='background-color:black;'>
					<h3 class="panel-title" style='color:white;margin:10px 5px 10px 1px;'>Deluxe</h3>
				  </div>
				  <div class="panel-body" style='margin:0px;padding:0px;'>
					<img src='images/bed.png' class='img-responsive'/>
						<form class="form-inline" style='margin:10px;'>
							<div class="form-group">
								<div class="input-group input-group-sm">
								<span class="input-group-addon" ><span class='glyphicon glyphicon-bed'></span></span>
									<div class='input-group-btn'>
										<select class='form-control' id='type_bed_deluxe' name='type_bed_deluxe'>
											<option value='300'>King + Sofa bed</option>
											<option value='500'>Twin + Sofa bed</option>
										</select>
									</div>
								</div>
							</div>
							<div class="form-group pull-right">
								<a href='javascript:void(0)' onclick='reserve.modal_view_deluxe()'><span class='control-label' for='datatype'>รายละเอียด</span></a>
							</div>
							
							<div class="list-group rowspan">
							  <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Room Only<span class='pull-right'>฿ 2,500.00</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3'><span class='glyphicon glyphicon-remove'></span> ไม่รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_change()'; style='cursor:pointer;'><span class='glyphicon glyphicon-ok'></span> สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(1,'Deluxe','Room Only','2500')" type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							  <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Last Minute Promotion<span class='pull-right'>฿ 2,800.00</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3' onclick='reserve.modal_breakfast()'; style='cursor:pointer;'><span class='glyphicon glyphicon-cutlery'></span> รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_nochange()'; style='cursor:pointer;'><span class='glyphicon glyphicon-remove'></span> ไม่สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(2,'Deluxe','Last Minute Promotion','2888.70')" type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							 <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Internet Rate<span class='pull-right'>฿ 3,300.00</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3' onclick='reserve.modal_breakfast()'; style='cursor:pointer;'><span class='glyphicon glyphicon-cutlery'></span> รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_change()'; style='cursor:pointer;'><span class='glyphicon glyphicon-ok'></span> สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(3,'Deluxe','Internet Rate','3398.47')"   type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							</div>
						</form>
				  </div>
				</div>
			</div><!--deluxe room-->
			<div class='row'>
				<div class="panel panel-default">
				  <div class="panel-heading" style='background-color:black;'>
					<h3 class="panel-title" style='color:white;margin:10px 5px 10px 1px;'>Superior</h3>
				  </div>
				  <div class="panel-body" style='margin:0px;padding:0px;'>
					<img src='images/bed.png' class='img-responsive'/>
						<form class="form-inline" style='margin:10px;'>
							<div class="form-group">
								<div class="input-group input-group-sm">
								<span class="input-group-addon" ><span class='glyphicon glyphicon-bed'></span></span>
									<div class='input-group-btn'>
										<select class='form-control' id='type_bed_superior' name='type_bed_superior'>
											<option value='500'>King + Sofa bed</option>
											<option value='800'>Twin + Sofa bed</option>
										</select>
									</div>
								</div>
							</div>
							<div class="form-group pull-right">
								<a href="javascript:void(0);" onclick="reserve.modal_view_superior()"><span class='control-label' for='datatype'>รายละเอียด</span></a>
							</div>
							
							<div class="list-group rowspan">
							  <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Room Only<span class='pull-right'>฿ 2,803.73</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3'><span class='glyphicon glyphicon-remove'></span> ไม่รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_change()'; style='cursor:pointer;'><span class='glyphicon glyphicon-ok'></span> สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(4,'superior','Room Only','2803.73')" type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							  <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Last Minute Promotion<span class='pull-right'>฿ 2,888.70</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3' onclick='reserve.modal_breakfast()'; style='cursor:pointer;'><span class='glyphicon glyphicon-cutlery'></span> รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_nochange()'; style='cursor:pointer;'><span class='glyphicon glyphicon-remove'></span> ไม่สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(5,'superior','Last Minute Promotion','2888.70')" type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							 <span href="#" class="list-group-item">
								<h4 class="list-group-item-heading">Internet Rate<span class='pull-right'>฿ 3,398.47</span></h4>
								<small class="list-group-item-text ">
									<div class='col-sm-3' onclick='reserve.modal_breakfast()'; style='cursor:pointer;'><span class='glyphicon glyphicon-cutlery'></span> รวมอาหารเช้า</div>
									<div class='col-sm-3' onclick='reserve.modal_change()'; style='cursor:pointer;'><span class='glyphicon glyphicon-ok'></span> สามารถเปลี่ยนแปลงหรือยกเลิกได้</div>
									<div class='col-sm-3' onclick='reserve.modal_internet()'; style='cursor:pointer;'><span class='glyphicon glyphicon-credit-card'></span> ชำระเงินทางอินเตอร์เน็ต</div>
									<button onclick="add_room(6,'superior','Internet Rate','3398.47')" type='button' class='btn btn-default brown btn-sm col-sm-3'>เลือก</button>
									&nbsp;
								</small>
							  </span>
							</div>
							
							
						</form>
				  </div>
				</div>
			</div><!--Superior room-->
		</div>
		<div class='col-md-5'>
			<form id='validate' action='services/process.php?step=2' method='post' >
			<div class='row' style='padding-left: 10px;'>
				<div id='check_in_date'></div>
			</div>
			<div class='row'>
				<div id='list_reserve' class="list-group rowspan" style='margin:10px;'>
					<span href="#" class="list-group-item">
						<h4 class="list-group-item-heading">รวม <span id='total_price' class='pull-right'>฿ 0</span></h4>
						<p class="list-group-item-text ">
						รายละเอียด >  <span class='pull-right'>1 ห้องพัก, 1 คืน</span>
						</p>
					 </span>
				</div>
				<hr/>
			</div>
			<div class='row'>
				<button type='submit' class='btn btn-default brown col-sm-offset-1 col-sm-10' style='min-height:50px;'>ตรวจสอบความถูกต้อง</button>
			</div>
			<input type='hidden' id='data_reserve' name='data_reserve' />
			</form>
		</div>
		
	</div>
	
</div>
<!--show modal-->
<!-- Modal -->
<div class="modal fade bs-example-modal-md" id="modaldialog" tabindex="-1" role="dialog" aria-labelledby="modaltitle">
  <div class="modal-dialog modal-lg" style='width:98%;' role="document">
    <div class="modal-content" >
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="modaltitle">&nbsp;</h4>
			</div>
			<div class="modal-body"  >
				<div id="modalcontent" style='height:auto;width:100%;'>
					loading...
				</div>
			</div>
		<div class='modal-footer'>
		<!-- data-dismiss="modal" -->
		<!-- <button type="button" class="btn btn-warning" data-toggle="collapse" data-target="#modal_condition">เงื่อนไข</button> -->
				<div id='view_condition' >
					<button type="button"  class="btn btn-warning" data-toggle="collapse" data-target="#modal_condition">เงื่อนไข</button><p/>
					<div id='modal_condition' class='collapse well well-sm text-left'></div>
				</div>
				
		</div>
    </div>
  </div>
</div>
	<!--show modal-->
<script src='plugin/jquery/jquery.min.js' ></script>
<script src='plugin/jquery/ui/pepper_grinder/jquery-ui.min.js' ></script>
<!-- <script src='plugin/jquery/datepicker-th.js' ></script> -->
<script src='plugin/jquery/holder.js' ></script>
<script src='plugin/bootstraps/js/bootstrap.js' ></script>
<script src='plugin/jquery/moment.js' ></script>
<script src='plugin/bootstraps/js/bootstrap-datetimepicker.js' ></script>
<script src='plugin/jquery/unitegallery/js/unitegallery.js' ></script>
<script src='plugin/jquery/unitegallery/themes/grid/ug-theme-grid.js' ></script>
<script src='js/utility.js' ></script>
<script src='js/selection.js' ></script>
<script src='js/rooms.js' ></script>
<script src='js/common.js' ></script>
<script type="text/javascript" >

	$(document).ready(function(){
	

		$('#btn_checkin').datetimepicker({"format":"DD/MM/YYYY"}).on('dp.change',function(e){
			var s_date = moment(e.date.format('YYYY-MM-DD'));
			var e_date = moment($('#btn_checkout').find("input").val(), "DD/MM/YYYY");
			var days = e_date.diff(s_date,'days');

			if(days>-1){
				$('#night_unit').val(days);
			}
			else{
				$('#night_unit').val('error');
				alert('Date Invalid . / เลือกวันที่ไม่ถูกต้อง');
			}
		});

		$('#btn_checkout').datetimepicker({"format":"DD/MM/YYYY"}).on('dp.change',function(e){
			var e_date = moment(e.date.format('YYYY-MM-DD'));
			var s_date = moment($('#btn_checkin').find("input").val(), "DD/MM/YYYY");
			var days = e_date.diff(s_date,'days');

			if(days>-1){
				$('#night_unit').val(days);
			}else{
				alert('Sorry !! Date Invalid . / เลือกวันที่ไม่ถูกต้อง');
				$('#night_unit').val('error');
			}
		});

		$('#btn_apply').click(function(e){
			apply_room();
		});

   });

	function apply_room(){
		var startdate = moment($('#btn_checkin').find("input").val(),"DD/MM/YYYY").format("YYYY-MM-DD");
		var enddate = moment($('#btn_checkout').find("input").val(),"DD/MM/YYYY").format("YYYY-MM-DD");
		rooms.filter_room(startdate,enddate);
	}

	reserve.get_info();
	apply_room();
	//reserve.get_roomofweek();
  </script>
</body>
</html>
